<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>建设工程造价工具集 - 金额转换/工期计算/钢材重量计算/计价规范</title>
    <meta name="description" content="免费在线造价工具，提供金额大写转换、工期计算、两点坐标距离计算、钢材重量计算、钢制管件图集及GB50500计价规范查询，助力工程预算与造价管理。">
    <meta name="keywords" content="造价工具,金额大写,工期计算,钢材重量,计价规范,GB50500,工程造价">
    <meta name="author" content="您的名字或公司">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "建设工程造价工具集",
  "description": "免费在线造价工具，提供金额大写转换、工期计算、、两点坐标距离计算、钢材重量计算等功能",
  "applicationCategory": "BusinessApplication"
}
</script>
    <style>
        /* 核心样式 */
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
            line-height: 1.6;
        }
        
        /* 模块容器 */
        .module {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 25px;
            margin-bottom: 30px;
        }
        
        /* 赞赏样式 */
        .appreciate {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .appreciate img {
            width: 200px;
            height: 200px;
            margin: 15px;
            border: 1px solid #eee;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        /* 功能导航 */
        .nav-tabs {
            display: flex;
            flex-wrap: wrap;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        .nav-tab {
            padding: 12px 25px;
            cursor: pointer;
            border: 1px solid transparent;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            transition: all 0.3s;
        }
        .nav-tab:hover {
            background-color: #f0f0f0;
        }
        .nav-tab.active {
            background: white;
            border-color: #ddd #ddd white;
            font-weight: bold;
        }
        
        /* 输入框样式 */
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .input-box {
            margin-bottom: 15px;
        }
        .input-box label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        .input-box input, .input-box select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .input-box input:focus {
            border-color: #4CAF50;
            outline: none;
        }
        .format-hint {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        /* 按钮样式 */
        .btn {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            transition: background 0.3s;
        }
        .btn:hover {
            background-color: #45a049;
        }
        .btn-reset {
            background-color: #f44336;
        }
        .btn-reset:hover {
            background-color: #d32f2f;
        }
        
        /* 结果框 */
        .result-box {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #4CAF50;
            background-color: #f8fff8;
            border-radius: 4px;
            min-height: 20px;
        }
        
        /* PDF展示区 */
        .pdf-container {
            width: 100%;
            height: 600px;
            border: 1px solid #ddd;
            margin-top: 20px;
        }
        .pdf-title {
            margin: 15px 0;
            color: #2c3e50;
        }
        
        /* 钢材计算表格 */
        .steel-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .steel-table th, .steel-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .steel-table th {
            background-color: #f2f2f2;
        }
        .steel-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">造价工具集</h1>
    
    <!-- 功能导航 -->
    <div class="nav-tabs">
        <div class="nav-tab active" onclick="showModule('amount-converter')">金额大写</div>
        <div class="nav-tab" onclick="showModule('duration-calculator')">工期计算</div>
        <div class="nav-tab" onclick="showModule('coordinate-distance')">坐标距离</div> 
        <div class="nav-tab" onclick="showModule('steel-calculator')">钢材重量</div>
        <div class="nav-tab" onclick="showModule('pipe-fittings')">钢制管件</div>
        <div class="nav-tab" onclick="showModule('billing-rules')">计价规则</div>
    </div>
    
    <!-- 金额大写模块 -->
    <div id="amount-converter" class="module">
        <h2>金额大写转换</h2>
        <div class="input-box">
            <label for="numberInput">输入金额</label>
            <input type="number" id="numberInput" placeholder="请输入金额" step="0.01">
            <p class="format-hint">支持小数点后两位（如：1234.56）</p>
        </div>
        <button class="btn" onclick="convertToChinese()">转换</button>
        <button class="btn btn-reset" onclick="document.getElementById('numberInput').value=''">清空</button>
        <div id="result" class="result-box"></div>
    </div>
    
    <!-- 工期计算模块 -->
    <div id="duration-calculator" class="module" style="display:none;">
        <h2>工期计算器</h2>
        <p>任意填写两项可计算第三项</p>
        
        <div class="input-grid">
           <!-- 开工日期输入框 -->
<div class="input-box">
    <label for="start-date">开工日期</label>
    <input type="date" id="start-date" onchange="calculateDurationFlexible()">
    <p class="format-hint">
        格式：年-月-日（例如：2023-08-15）
        <br><small>*部分浏览器需手动输入</small>
    </p>
</div>

<!-- 竣工日期输入框 -->
<div class="input-box">
    <label for="end-date">竣工日期</label>
    <input type="date" id="end-date" onchange="calculateDurationFlexible()">
    <p class="format-hint">
        格式：年-月-日（例如：2023-08-15）
        <br><small>*部分浏览器需手动输入</small>
    </p>
</div>
            
            <div class="input-box">
                <label for="duration-days-input">工期天数</label>
                <input type="number" id="duration-days-input" placeholder="输入天数" onchange="calculateDurationFlexible()">
                <p class="format-hint">日历天数（含首尾）</p>
            </div>
        </div>
        
        <div class="result-box" id="duration-result">
            请至少填写两项进行计算
        </div>
    </div>
<!-- 坐标距离计算模块 -->
<div id="coordinate-distance" class="module" style="display:none;">
    <h2>两点坐标距离计算</h2>
    <p>输入两点坐标(X,Y)，计算平面直线距离</p>
    
    <div class="input-grid">
        <!-- 点A坐标 -->
        <div class="input-box">
            <label for="pointA-x">点A坐标</label>
            <div style="display: flex; gap: 10px;">
                <input type="number" id="pointA-x" placeholder="X坐标" step="0.0001" style="flex: 1;">
                <input type="number" id="pointA-y" placeholder="Y坐标" step="0.0001" style="flex: 1;">
            </div>
        </div>
        
        <!-- 点B坐标 -->
        <div class="input-box">
            <label for="pointB-x">点B坐标</label>
            <div style="display: flex; gap: 10px;">
                <input type="number" id="pointB-x" placeholder="X坐标" step="0.0001" style="flex: 1;">
                <input type="number" id="pointB-y" placeholder="Y坐标" step="0.0001" style="flex: 1;">
            </div>
        </div>
    </div>
    
    <div style="margin-top: 20px;">
        <button class="btn" onclick="calculateDistance()">计算距离</button>
        <button class="btn btn-reset" onclick="resetCoordinateInputs()">清空</button>
    </div>
    
    <div class="result-box" id="distance-result">
        请输入两点坐标进行计算
    </div>
</div>
    <!-- 钢材重量计算模块 -->
    <div id="steel-calculator" class="module" style="display:none;">
        <h2>型材钢材重量计算</h2>
        
        <div class="input-box">
            <label for="steel-type">钢材类型</label>
            <select id="steel-type" onchange="updateSteelParams()">
                <option value="round">圆钢</option>
                <option value="square">方钢</option>
                <option value="flat">扁钢</option>
                <option value="angle">角钢</option>
                <option value="pipe">钢管</option>
            </select>
        </div>
        
        <div class="input-grid" id="steel-params">
            <!-- 动态生成的参数输入区 -->
        </div>
        
        <button class="btn" onclick="calculateSteelWeight()">计算重量</button>
        <div class="result-box" id="steel-result"></div>
        
        <h3 class="pdf-title">钢材理论重量表</h3>
        <div class="pdf-container">
            <embed src="docs/型材钢材重量.pdf" type="application/pdf" width="100%" height="100%">
        </div>
    </div>
    
    <!-- 钢制管件图集模块 -->
    <div id="pipe-fittings" class="module" style="display:none;">
        <h2>钢制管件标准图集</h2>
        <div class="pdf-container">
            <embed src="docs/钢制管件图集.pdf" type="application/pdf" width="100%" height="100%">
        </div>
    </div>
    
    <!-- 计价规则模块 -->
    <div id="billing-rules" class="module" style="display:none;">
        <h2>GB50500-2013工程量清单计价规范</h2>
        <div class="pdf-container">
            <embed src="docs/2013工程量清单计价规则GB50500—2013.pdf" type="application/pdf" width="100%" height="100%">
        </div>
    </div>
    
    <!-- 赞赏模块 -->
    <div class="appreciate">
        <h3>感谢使用！如果觉得工具有用，欢迎赞赏支持</h3>
        <div>
            <img src="images/微信赞赏码.jpg" alt="建设工程造价工具微信赞赏二维码">
     <img src="images/支付宝赞赏码.jpg" alt="建设工程造价工具支付宝赞赏二维码">
        </div>
        <p style="margin-top:15px;color:#666;">您的支持将帮助我们持续更新更多专业造价工具</p>
    </div>

    <script>
        // 模块切换功能
        function showModule(moduleId) {
            document.querySelectorAll('.module').forEach(m => {
                m.style.display = 'none';
            });
            document.getElementById(moduleId).style.display = 'block';
            
            // 更新导航标签状态
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // 特殊处理PDF容器高度
            if (moduleId === 'pipe-fittings' || moduleId === 'billing-rules') {
                adjustPdfHeight();
            }
        }
        
        // 调整PDF显示高度
        function adjustPdfHeight() {
            const pdfContainers = document.querySelectorAll('.pdf-container');
            const windowHeight = window.innerHeight;
            pdfContainers.forEach(container => {
                container.style.height = (windowHeight * 0.7) + 'px';
            });
        }
        
        // 金额大写转换功能
        function convertToChinese() {
            const num = document.getElementById('numberInput').value;
            const resultElement = document.getElementById('result');
            
            if (!num || isNaN(num)) {
                resultElement.innerText = "请输入有效金额";
                return;
            }
            
            const amount = Math.abs(Number(num)).toFixed(2);
            const [integerPart, decimalPart] = amount.split('.');
            const jiao = decimalPart[0], fen = decimalPart[1];
            
            // 中文数字映射
            const cnNums = ["零", "壹", "贰", "叁", "肆", "伍", "陆", "柒", "捌", "玖"];
            const cnUnits = ["", "拾", "佰", "仟", "万", "拾", "佰", "仟", "亿"];
            
            // 转换整数部分
            let chineseStr = '';
            for (let i = 0; i < integerPart.length; i++) {
                const num = integerPart[i];
                if (num !== '0') {
                    chineseStr += cnNums[num] + cnUnits[integerPart.length - i - 1];
                } else {
                    if (chineseStr.slice(-1) !== '零') {
                        chineseStr += '零';
                    }
                }
            }
            chineseStr = chineseStr.replace(/零+$/, '').replace(/零+/g, '零') || '零';
            
            // 处理小数部分
            let decimalStr = '';
            if (jiao > 0) decimalStr += cnNums[jiao] + '角';
            if (fen > 0) decimalStr += cnNums[fen] + '分';
            
            // 财务规范处理
            if (jiao == 0 && fen > 0 && integerPart !== '0') {
                decimalStr = '零' + cnNums[fen] + '分';
            }
            
            // 拼接最终结果
            let result = '';
            if (integerPart !== '0') result += chineseStr + '元';
            result += decimalStr || (integerPart !== '0' ? '整' : '');
            
            resultElement.innerText = `大写：${result || '零元整'}`;
        }
        
        // 灵活工期计算
        function calculateDurationFlexible() {
            const startDate = document.getElementById('start-date').value;
            const endDate = document.getElementById('end-date').value;
            const durationDays = document.getElementById('duration-days-input').value;
            const resultElement = document.getElementById('duration-result');
            
            // 统计已填写的项目
            const filled = [startDate, endDate, durationDays].filter(v => v).length;
            
            if (filled < 2) {
                resultElement.innerText = "请至少填写两项进行计算";
                return;
            }
            
            try {
                if (!startDate && endDate && durationDays) {
                    // 计算开工日期
                    const end = new Date(endDate);
                    const start = new Date(end);
                    start.setDate(start.getDate() - parseInt(durationDays) + 1);
                    document.getElementById('start-date').valueAsDate = start;
                    resultElement.innerText = `开工日期应为：${formatDate(start)}`;
                    
                } else if (startDate && !endDate && durationDays) {
                    // 计算竣工日期
                    const start = new Date(startDate);
                    const end = new Date(start);
                    end.setDate(end.getDate() + parseInt(durationDays) - 1);
                    document.getElementById('end-date').valueAsDate = end;
                    resultElement.innerText = `竣工日期应为：${formatDate(end)}`;
                    
                } else if (startDate && endDate && !durationDays) {
                    // 计算工期天数
                    const start = new Date(startDate);
                    const end = new Date(endDate);
                    
                    if (start > end) {
                        resultElement.innerText = "错误：开工日期不能晚于竣工日期";
                        return;
                    }
                    
                    const timeDiff = end - start;
                    const dayDiff = Math.floor(timeDiff / (1000 * 60 * 60 * 24)) + 1;
                    document.getElementById('duration-days-input').value = dayDiff;
                    resultElement.innerText = `工期日历天数：${dayDiff} 天`;
                    
                } else {
                    resultElement.innerText = "请只留空一项进行计算";
                }
            } catch (e) {
                resultElement.innerText = "计算错误，请检查输入格式";
            }
        }
        
        // 日期格式化
        function formatDate(date) {
            return date.getFullYear() + '年' + 
                  (date.getMonth() + 1) + '月' + 
                  date.getDate() + '日';
        }
        // 计算两点间距离
function calculateDistance() {
    const pointA = {
        x: parseFloat(document.getElementById('pointA-x').value),
        y: parseFloat(document.getElementById('pointA-y').value)
    };
    
    const pointB = {
        x: parseFloat(document.getElementById('pointB-x').value),
        y: parseFloat(document.getElementById('pointB-y').value)
    };
    
    const resultElement = document.getElementById('distance-result');
    
    // 验证输入
    if (isNaN(pointA.x) || isNaN(pointA.y) || isNaN(pointB.x) || isNaN(pointB.y)) {
        resultElement.innerText = "请填写所有坐标值";
        return;
    }
    
    // 计算距离公式：√[(x2-x1)² + (y2-y1)²]
    const dx = pointB.x - pointA.x;
    const dy = pointB.y - pointA.y;
    const distance = Math.sqrt(dx * dx + dy * dy);
    
    // 显示结果，保留4位小数
    resultElement.innerHTML = `
        <strong>计算结果：</strong><br>
        点A (${pointA.x}, ${pointA.y}) 与 点B (${pointB.x}, ${pointB.y}) 之间的距离为：<br>
        <span style="font-size:1.2em;color:#4CAF50;">${distance.toFixed(4)}</span> 单位
    `;
}

// 清空坐标输入
function resetCoordinateInputs() {
    ['pointA-x', 'pointA-y', 'pointB-x', 'pointB-y'].forEach(id => {
        document.getElementById(id).value = '';
    });
    document.getElementById('distance-result').innerText = "请输入两点坐标进行计算";
}  
        // 钢材参数配置
        const steelParams = {
            round: [
                { id: 'diameter', label: '直径(mm)', unit: 'mm' },
                { id: 'length', label: '长度(m)', unit: 'm' }
            ],
            square: [
                { id: 'width', label: '边长(mm)', unit: 'mm' },
                { id: 'length', label: '长度(m)', unit: 'm' }
            ],
            flat: [
                { id: 'width', label: '宽度(mm)', unit: 'mm' },
                { id: 'thickness', label: '厚度(mm)', unit: 'mm' },
                { id: 'length', label: '长度(m)', unit: 'm' }
            ],
            angle: [
                { id: 'side1', label: '边宽1(mm)', unit: 'mm' },
                { id: 'side2', label: '边宽2(mm)', unit: 'mm' },
                { id: 'thickness', label: '厚度(mm)', unit: 'mm' },
                { id: 'length', label: '长度(m)', unit: 'm' }
            ],
            pipe: [
                { id: 'outer-diameter', label: '外径(mm)', unit: 'mm' },
                { id: 'wall-thickness', label: '壁厚(mm)', unit: 'mm' },
                { id: 'length', label: '长度(m)', unit: 'm' }
            ]
        };
        
        // 钢材重量计算公式 (kg/m)
        const steelFormulas = {
            round: (d) => (d * d * 0.00617).toFixed(3),
            square: (a) => (a * a * 0.00785).toFixed(3),
            flat: (w, t) => (w * t * 0.00785).toFixed(3),
            angle: (a, b, t) => ((a + b - t) * t * 0.00785).toFixed(3),
            pipe: (d, t) => ((d - t) * t * 0.02466).toFixed(3)
        };
        
        // 更新钢材参数输入区
        function updateSteelParams() {
            const type = document.getElementById('steel-type').value;
            const container = document.getElementById('steel-params');
            container.innerHTML = '';
            
            steelParams[type].forEach(param => {
                const div = document.createElement('div');
                div.className = 'input-box';
                div.innerHTML = `
                    <label for="${param.id}">${param.label}</label>
                    <input type="number" id="${param.id}" step="0.01" placeholder="输入${param.unit}">
                    <p class="format-hint">单位：${param.unit}</p>
                `;
                container.appendChild(div);
            });
        }
        
        // 计算钢材重量
        function calculateSteelWeight() {
            const type = document.getElementById('steel-type').value;
            const params = steelParams[type];
            const values = params.map(p => parseFloat(document.getElementById(p.id).value));
            
            if (values.some(isNaN)) {
                document.getElementById('steel-result').innerText = "请填写所有参数";
                return;
            }
            
            let weightPerMeter, totalWeight;
            const length = values[values.length - 1]; // 最后一个参数总是长度
            
            switch(type) {
                case 'round':
                    weightPerMeter = steelFormulas.round(values[0]);
                    totalWeight = (weightPerMeter * length).toFixed(2);
                    break;
                case 'square':
                    weightPerMeter = steelFormulas.square(values[0]);
                    totalWeight = (weightPerMeter * length).toFixed(2);
                    break;
                case 'flat':
                    weightPerMeter = steelFormulas.flat(values[0], values[1]);
                    totalWeight = (weightPerMeter * length).toFixed(2);
                    break;
                case 'angle':
                    weightPerMeter = steelFormulas.angle(values[0], values[1], values[2]);
                    totalWeight = (weightPerMeter * length).toFixed(2);
                    break;
                case 'pipe':
                    weightPerMeter = steelFormulas.pipe(values[0], values[1]);
                    totalWeight = (weightPerMeter * length).toFixed(2);
                    break;
            }
            
            document.getElementById('steel-result').innerHTML = `
                <strong>计算结果：</strong><br>
                理论重量：${weightPerMeter} kg/m<br>
                总重量：${totalWeight} kg (长度 ${length}m)
            `;
        }
        
        // 初始化钢材参数
        updateSteelParams();
        
        // 窗口大小变化时调整PDF高度
        window.addEventListener('resize', adjustPdfHeight);
    </script>
</body>
</html>
